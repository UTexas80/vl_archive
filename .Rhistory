na.omit(
rbind(
dx_condor_key[id_strike %% 2 == 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
],
dx_condor_key[id_strike %% 2 != 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
]
)
), TKR, id_strike
)
dx_condor_max_loss
dx_condor_max_loss <<-
na.omit(
rbind(
dx_condor_key[id_strike %% 2 == 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
],
dx_condor_key[id_strike %% 2 != 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
]
)
)[data.table::setorder(TKR, id_strike)]
data.table::setorder(
na.omit(
rbind(
dx_condor_key[id_strike %% 2 == 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
],
dx_condor_key[id_strike %% 2 != 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
]
)
), TKR, id_strike
)
dx_condor_max_loss <<- data.table::setorder(
na.omit(
rbind(
dx_condor_key[id_strike %% 2 == 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
],
dx_condor_key[id_strike %% 2 != 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
]
)
), TKR, id_strike
)
dx_condor_max_loss
dx_condor_max_loss <<- data.table::setorder(
na.omit(
rbind(
dx_condor_key[id_strike %% 2 == 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
],
dx_condor_key[id_strike %% 2 != 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
]
)
), TKR, id_strike
) %>%
.[, loss := cumsum(diff), by = TKR][
,c(1,7)]
styler:::style_selection()
dx_condor_max_loss <<- data.table::setorder(
na.omit(
rbind(
dx_condor_key[id_strike %% 2 == 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
],
dx_condor_key[id_strike %% 2 != 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
]
)
), TKR, id_strike
)
dx_condor_max_loss <<- dx_condor_max_loss[,
loss := cumsum(diff),
by = TKR
][
, c(1, 7)
]
dx_condor_max_loss
rm(dx_condor_max_loss)
dx_condor_max_loss <<- data.table::setorder(
na.omit(
rbind(
dx_condor_key[id_strike %% 2 == 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
],
dx_condor_key[id_strike %% 2 != 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
]
)
), TKR, id_strike
)
dx_condor_max_loss <<- dx_condor_max_loss[,
loss := sum(diff),
by = TKR
][
, c(1, 7)
]
dx_condor_max_loss
dx_condor_max_loss <<- data.table::setorder(
na.omit(
rbind(
dx_condor_key[id_strike %% 2 == 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
],
dx_condor_key[id_strike %% 2 != 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
]
)
), TKR, id_strike
)
dx_condor_max_loss <<- dx_condor_max_loss[,
loss := sum(diff),
by = TKR
][
, c(1, 7)
][unique]
styler:::style_selection()
styler:::style_active_file()
styler:::style_selection()
dx_condor_max_loss <<- data.table::setorder(
na.omit(
rbind(
dx_condor_key[id_strike %% 2 == 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
],
dx_condor_key[id_strike %% 2 != 1, ][
dx_blob,
nomatch = 0
][
, c(1:4, 16)
][
, diff := STRIKE - shift(STRIKE),
by = TKR
]
)
), TKR, id_strike
)
# ------------------------------------------------------------------------------
dx_condor_max_loss <<-
unique(
dx_condor_max_loss[,
loss := sum(diff),
by = TKR
][
, c(1, 7)
]
)
dx_condor_max_loss
styler:::style_selection()
dx_condor_cost
dx_condor_cost[dx_condor_max_loss]
dx_condor_cost[dx_condor_max_loss, on =.TKR]
dx_condor_cost[dx_condor_max_loss, on =."TKR"]
dx_condor_cost[dx_condor_max_loss, on =.("TKR")]
dx_condor_cost[dx_condor_max_loss, on =.(TKR)]
dx_condor_cost[dx_condor_max_loss, on =.(TKR)][, roi := ([[2]]/[[3]])/100]
dx_condor_cost[dx_condor_max_loss, on =.(TKR)][, roi := [[2]]/[[3]]]
dx_condor_cost[dx_condor_max_loss, on =.(TKR)][, roi := [2]/[3]]
dx_condor_cost[dx_condor_max_loss, on =.(TKR)][, roi := (dx_condor_cost[[2]]/dx_condor_max_loss[[3]])*100]
dx_condor_cost[dx_condor_max_loss, on =.(TKR)][, roi := dx_condor_cost[[2]]/dx_condor_max_loss[[3]]]
dx_condor_cost[dx_condor_max_loss, on =.(TKR)][, roi := cost/loss]
dx_condor_cost[dx_condor_max_loss, on =.(TKR)][, roi := (cost/loss)*100]
styler:::style_selection()
dx_condor_roi <<-
dx_condor_max_profit[
dx_condor_max_loss, on = .(TKR)][
, roi := scales::percent(cost / loss) * 100]
source("C:/Users/falkg/OneDrive/Documents/GitHub/vl_archive/vl_archive.r", echo=TRUE)
traceback()
source("C:/Users/falkg/OneDrive/Documents/GitHub/vl_archive/vl_archive.r", echo=TRUE)
dx_condor_roi
source("C:/Users/falkg/OneDrive/Documents/GitHub/vl_archive/vl_archive.r", echo=TRUE)
dx_condor_roi
dx_condor_key
View(dt_gf)
View(dt_file_table)
dt_date_run
dx_date_exp
dx_condor_roi
cbind(dx_condor_roi, dt_date_run)
source("C:/Users/falkg/OneDrive/Documents/GitHub/vl_archive/vl_archive.r", echo=TRUE)
dx_condor_roi
dt_date_run
glimpse(dx_stk)
dx_stk[1,5]
dx_date_exp
dx_date_exp[day == 6 & week == 3, ]
cbind(
dx_condor_max_profit[
dx_condor_max_loss, on = .(TKR)][
, roi := scales::percent(profit / loss)],
date_run)
source("C:/Users/falkg/OneDrive/Documents/GitHub/vl_archive/vl_archive.r", echo=TRUE)
dx_condor_roi
dx_condor_roi <<-
cbind(
dx_condor_max_profit[
dx_condor_max_loss, on = .(TKR)][
, roi := scales::percent(profit / loss)],
date_run)[, setnames(.SD, "y", "z")]
dx_condor_roi <<-
cbind(
dx_condor_max_profit[
dx_condor_max_loss, on = .(TKR)][
, roi := scales::percent(profit / loss)],
date_run)[, setnames(.SD, "V2", "date_run")]
dx_condor_roi
styler:::style_selection()
dx_blob$EXPDAY
dt_date_exp_mth
dx_condor_key
dx_condor_key[,4]
dx_condor_key[,3]
mid(dx_condor_key[,3],8,6)
mid(dx_condor_key[,3],11,6)
mid(dx_condor_key[,3],10,6)
as.Date(mid(dx_condor_key[,3],10,6), format('%m/%d/%Y'))
mid(dx_condor_key[,3],10,6)
as.Date(mid(dx_condor_key[,3],10,6))
mid(dx_condor_key[,3],10,6)
as.Date(mid(dx_condor_key[,3],10,6), format = "%y%m%d")
as.Date(mid(dx_condor_key[,3],10,6), format = "%m%m%Y")
as.Date(mid(dx_condor_key[,3],10,6), format = "%y%m%d")
cbind(
dx_condor_max_profit[
dx_condor_max_loss,
on = .(TKR)
][
, roi := scales::percent(profit / loss)
],
date_run,
as.Date(mid(dx_condor_key[,3],10,6), format = "%y%m%d")
)[
, setnames(.SD, "V2", "date_run")
]
cbind(
dx_condor_max_profit[
dx_condor_max_loss,
on = .(TKR)
][
, roi := scales::percent(profit / loss)
],
date_run,
as.Date(mid(dx_condor_key[,3],10,6), format = "%y%m%d")
)[
, setnames(.SD, "V2", "V3", "date_run", "date_exp")
]
dx_condor_roi <<-
cbind(
dx_condor_max_profit[
dx_condor_max_loss,
on = .(TKR)
][
, roi := scales::percent(profit / loss)
],
date_run,
as.Date(mid(dx_condor_key[,3],10,6), format = "%y%m%d")
)[
, setnames(.SD, "V2", "V3", "date_run", "date_exp")
]
dx_condor_roi <<-
cbind(
dx_condor_max_profit[
dx_condor_max_loss,
on = .(TKR)
][
, roi := scales::percent(profit / loss)
],
date_run,
as.Date(mid(dx_condor_key[,3],10,6), format = "%y%m%d")
)[
, setnames(.SD, "V2", "date_run", "V3", "date_exp")
]
dx_condor_roi <<-
cbind(
dx_condor_max_profit[
dx_condor_max_loss,
on = .(TKR)
][
, roi := scales::percent(profit / loss)
],
date_run,
as.Date(mid(dx_condor_key[,3],10,6), format = "%y%m%d")
)[
, setnames(.SD, c("V2", "V3"), c("date_run", "date_exp"))
]
dx_condor_roi
dx_condor_roi <<-
cbind(
dx_condor_max_profit[
dx_condor_max_loss,
on = .(TKR)
][
, roi := scales::percent(profit / loss)
],
as.Date(mid(dx_condor_key[,3],10,6), format = "%y%m%d"),
date_run,
)[
, setnames(.SD, c("V2", "V3"), c("date_exp", "date_run"))
]
dx_condor_roi <<-
cbind(
dx_condor_max_profit[
dx_condor_max_loss,
on = .(TKR)
][
, roi := scales::percent(profit / loss)
],
as.Date(mid(dx_condor_key[,3],10,6), format = "%y%m%d"),
date_run
)[
, setnames(.SD, c("V2", "V3"), c("date_exp", "date_run", ))
]
dx_condor_roi <<-
cbind(
dx_condor_max_profit[
dx_condor_max_loss,
on = .(TKR)
][
, roi := scales::percent(profit / loss)
],
as.Date(mid(dx_condor_key[,3],10,6), format = "%y%m%d"),
date_run
)[
, setnames(.SD, c("V2", "V3"), c("date_exp", "date_run"))
]
dx_condor_roi <<-
cbind(
dx_condor_max_profit[
dx_condor_max_loss,
on = .(TKR)
][
, roi := scales::percent(profit / loss)
],
date_run,
as.Date(mid(dx_condor_key[,3],10,6), format = "%y%m%d")
)[
, setnames(.SD, c("V2", "V3"), c("date_run", "date_exp"))
]
dx_condor_roi
styler:::style_selection()
dx_condor_roi <<-
cbind(
dx_condor_max_profit[
dx_condor_max_loss,
on = .(TKR)
][
, roi := scales::percent(profit / loss)
],
date_run,
as.Date(mid(dx_condor_key[, 3], 10, 6), format = "%y%m%d")
)[
, setnames(.SD, c("V2", "V3"), c("date_run", "date_exp"))
][, .(TKR, profit, loss, roi, date_exp, date_run)]
dx_condor_roi
source("C:/Users/falkg/OneDrive/Documents/GitHub/vl_archive/vl_archive.r", echo=TRUE)
glimpse(dx_stk)
glimpse(dt_gf)
dx_condor_roi
glimpse(dx_condor_roi)
z
z <<- FALSE
z
glimpse(dx_stk)
glimpse(dx_condor_roi)
z
View(dx_condor_roi)
source("C:/Users/falkg/OneDrive/Documents/GitHub/vl_archive/vl_archive.r", echo=TRUE)
traceback()
source("C:/Users/falkg/OneDrive/Documents/GitHub/vl_archive/vl_archive.r", echo=TRUE)
dx_condor_roi
View(dx_condor_roi)
g[["dx_condor_roi"]]
data.table::setorder(g[["dx_condor_roi"]], TKR)
g[["dx_condor_roi"]]
data.table::setorder(g[["dx_condor_roi"]], roi)
g[["dx_condor_roi"]]
data.table::setorder(g[["dx_condor_roi"]], -roi)
g[["dx_condor_roi"]]
g[["dx_condor_roi"]][TKR == 'RIDE',]
dx_condor_key
styler:::style_selection()
source("C:/Users/falkg/OneDrive/Documents/GitHub/vl_archive/vl_archive.r", echo=TRUE)
View(dx_condor_roi)
View(date_run)
source("C:/Users/falkg/OneDrive/Documents/GitHub/vl_archive/vl_archive.r", echo=TRUE)
traceback()
source("C:/Users/falkg/OneDrive/Documents/GitHub/vl_archive/vl_archive.r", echo=TRUE)
View(date_run)
class(date_run)
str(date_run)
View(dt_date_run)
View(dx_condor_key)
View(dx_condor_roi)
source("C:/Users/falkg/OneDrive/Documents/GitHub/vl_archive/vl_archive.r", echo=TRUE)
pak::pkg_install("mlr-org/mlr3")
pak::pkg_install("mlr-org/mlr3verse")
source("C:/Users/falkg/OneDrive/Documents/GitHub/vl_archive/vl_archive.r", echo=TRUE)
dx_condor_key
source("C:/Users/falkg/OneDrive/Documents/GitHub/vl_archive/vl_archive.r", echo=TRUE)
dx_condor_key
source("C:/Users/falkg/OneDrive/Documents/GitHub/vl_archive/vl_archive.r", echo=TRUE)
glimpse(dx_condor_key)
source("C:/Users/falkg/OneDrive/Documents/GitHub/vl_archive/vl_archive.r", echo=TRUE)
traceback()
source("C:/Users/falkg/OneDrive/Documents/GitHub/vl_archive/vl_archive.r", echo=TRUE)
